<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <title>Convoyor the game</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@master/dist/aframe-physics-system.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v6.1.0/dist/aframe-extras.loaders.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v6.1.0/dist/aframe-extras.controls.min.js"></script>
  </head>
<body>
    <script src="items.js"></script>
    <a-scene stats id="scene" physics="gravity: -9.8; debug: true" shadow="type: pcfsoft">
    <!-- Camera and controls -->
      <a-entity position="-0.5 2 1.3">
        <a-camera look-controls="pointerLockEnabled: true" wasd-controls="enabled: true">
          <a-cursor></a-cursor>
        </a-camera>
      </a-entity>
      <a-entity cursor="rayOrigin: mouse" raycaster="objects: .collidable"></a-entity>
      <a-entity id="cameraRig" position="-0.5 2 1.3">
        <a-entity camera look-controls wasd-controls> <a-entity id="rightController" oculus-touch-controls="hand: right" hand-grabber raycaster="showLine:true; objects: .collidable" cursor> </a-entity>
        <a-entity id="leftController" oculus-touch-controls="hand: left" hand-grabber raycaster="showLine:true; objects: .collidable" cursor></a-entity>
        </a-entity>
      </a-entity>
    <!-- Ground -->
<a-box id="ground" rotation="-90 0 0" position="0 -0.5 0" src="../models/ground.jpg" material="repeat: 1 1" width="25" height="25" static-body="shape:box"></a-box>
<!-- Assets -->
<a-assets>
  <!-- Male -->
  <a-asset-item id="person1Asset" src="../models/Male1.glb"></a-asset-item>
  <a-asset-item id="person2" src="../models/Male2.glb"></a-asset-item>
  <a-asset-item id="person3" src="../models/Male3.glb"></a-asset-item>
  <!-- Female -->
  <a-asset-item id="person4" src="../models/Female1.glb"></a-asset-item>
  <a-asset-item id="person5" src="../models/Female2.glb"></a-asset-item>
  <a-asset-item id="person6" src="../models/Female3.glb"></a-asset-item>
  <!-- Props -->
  <a-asset-item id="Shelves" src="../models/Shelves.glb"></a-asset-item>
  <a-asset-item id="Soda" src="../models/Soda_Can.glb"></a-asset-item>
  <a-asset-item id="Door" src="../models/door.glb"></a-asset-item>
  <a-asset-item id="Conveyor" src="../models/Conveyor.glb"></a-asset-item>
  <a-asset-item id="Fire" src="../models/Fire.glb"></a-asset-item>
  <a-asset-item id="Box" src="../models/Box.glb"></a-asset-item>
  <a-asset-item id="Boxes" src="../models/Boxes.glb"></a-asset-item>
  <a-asset-item id="Desk_lamp" src="../models/Desk_lamp.glb"></a-asset-item>
  <a-asset-item id="Banana" src="../models/Banana.glb"></a-asset-item>
  <a-asset-item id="Briefcase" src="../models/Briefcase.glb"></a-asset-item>
  <a-asset-item id="CPMouse" src="../models/CP_Mouse.glb"></a-asset-item>
  <a-asset-item id="LED" src="../models/LED.glb"></a-asset-item>
  <a-asset-item id="Bubble" src="../models/Bubble.glb"></a-asset-item>
  <a-asset-item id="Box_Open" src="../models/Box_Open.glb"></a-asset-item>
</a-assets>
<!-- Entities -->
<a-entity id="person1" class="person1" gltf-model="#person1Asset" position="0 0 10" rotation="0 0 0" scale="1.5 1.7 1.5" animation-mixer="clip: Armature|Sprint; loop: repeat; timeScale: 1"></a-entity>
<!-- Shelves -->
<a-entity id="shelves_1" gltf-model="#Shelves" position="-5 0 3" scale="2 2 2" static-body="shape:box"></a-entity>
<a-entity id="shelves_2" gltf-model="#Shelves" position="5 0 3" scale="2 2 2" static-body="shape:box"></a-entity>
<a-entity id="shelves_3" gltf-model="#Shelves" position="-5 0 -5" scale="2 2 2" static-body="shape:box"></a-entity>
<a-entity id="shelves_4" gltf-model="#Shelves" position="5 0 -5" scale="2 2 2" static-body="shape:box"></a-entity>
<a-entity id="shelves_5" gltf-model="#Shelves" position="-5 0 -9.4" scale="2 2 2" static-body="shape:box"></a-entity>
<a-entity id="shelves_6" gltf-model="#Shelves" position="5 0 -9.4" scale="2 2 2" static-body="shape:box"></a-entity>
<a-entity id="shelves_7" gltf-model="#Shelves" position="-5 0 9" scale="2 2 2" static-body="shape:box"></a-entity>
<a-entity id="shelves_8" gltf-model="#Shelves" position="5 0 9" scale="2 2 2" static-body="shape:box"></a-entity>
<a-entity id="shelves_9" gltf-model="#Shelves" position="-9 0 3" scale="2 2 2" static-body="shape:box"></a-entity>
<a-entity id="shelves_10" gltf-model="#Shelves" position="-9 0 9" scale="2 2 2" static-body="shape:box"></a-entity>
<a-entity id="shelves_11" gltf-model="#Shelves" position="9 0 3" scale="2 2 2" static-body="shape:box"></a-entity>
<a-entity id="shelves_12" gltf-model="#Shelves" position="9 0 9" scale="2 2 2" static-body="shape:box"></a-entity>
<a-entity id="shelves_13" gltf-model="#Shelves" position="-9 0 -5" scale="2 2 2" static-body="shape:box"></a-entity>
<a-entity id="shelves_14" gltf-model="#Shelves" position="-9 0 -9.4" scale="2 2 2" static-body="shape:box"></a-entity>
<a-entity id="shelves_15" gltf-model="#Shelves" position="9 0 -5" scale="2 2 2" static-body="shape:box"></a-entity>
<a-entity id="shelves_16" gltf-model="#Shelves" position="9 0 -9.4" scale="2 2 2" static-body="shape:box"></a-entity>
    <!-- Conveyor and Fire -->
    <a-entity>
      <a-entity id="conveyor" gltf-model="#Conveyor" position="3 1 0" scale="10 10 10" static-body="shape:box"></a-entity>
      <a-entity id="Fire" gltf-model="#Fire" position="-9.5 1.7 -1.2" scale="0.03 0.03 0.03" >
        <a-box id="DestroyItems" color="white" depth="2" height="2" width="2" material="wireframe: true; color: white;" geometry="depth: 80; height: 80; width: 80" position="0 55 0" ></a-box>
      </a-entity>
      <a-light type="point" intensity="0.5" color="red" animation="property: light.color; from:rgb(183, 28, 28); to:rgb(210, 61, 57); dur:300; loop:true; dir: alternate; autoplay: true; easing: easeInOutSine; keyframes: [{color: rgb(183, 28, 28)}, {color: rgb(200, 50, 50)}, {color: rgb(210,61, 57)}]"></a-light>
      <a-entity id="DepositZone" gltf-model="../models/Box_Open.glb" position="-3.61411 0.1 1.5" rotation="0 105 0" scale="9 7 12" static-body="shape:box">
        <a-entity position="-0.12392 0.44209 0.12013" text="value: Deposit Zone Here; color: white; align: center; side: double; backgroundColor: white" look-at="#cameraRig"></a-entity>
      </a-entity>
    </a-entity>

    <!-- wall -->
    <a-box id="FrontWall" position="0 3 -12.5" src="../models/brick-wall.jpg" width="25" height="10" static-body="shape:box" class="collidable"></a-box>
    <a-box id="BackWall" position="0 3 12.5" rotation="0 180 0" src="../models/brick-wall.jpg" width="25" height="10" static-body="shape:box" class="collidable"></a-box>
    <a-box id="LeftWall" position="-12.5 3 0" rotation="0 90 0" src="../models/brick-wall.jpg" width="25" height="10" static-body="shape:box" class="collidable"></a-box>
    <a-box id="RightWall" position="12.5 3 0" rotation="0 -90 0" src="../models/brick-wall.jpg" width="25" height="10" static-body="shape:box" class="collidable"></a-box>

    <!-- ceiling -->
    <a-plane id="Ceiling" position="0 7 0" rotation="90 0 0" src="../models/ceiling.jpg" width="25" height="25" roughness="0.5" >
      <a-entity id="LED1" gltf-model="#LED" rotation="-90 0 0" scale="2 2 2" material="metalness: 1; roughness: 0; reflectivity: 1" ></a-entity>
        <a-light type="point" position="0 -1 0" intensity="0.8" color="#F9F3C1"></a-light>
      </a-entity>
    </a-plane>
  </a-scene>
  <script src="interaction.js"></script>
</body>

</html>
